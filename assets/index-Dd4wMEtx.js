(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const d of r.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&n(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();function a(s){return JSON.parse(localStorage.getItem(s))||[]}function l(s,e){localStorage.setItem(s,JSON.stringify(e))}const g=document.getElementById("clear-Completed"),v=()=>{const e=a("tasks").filter(t=>!t.isCompleted);l("tasks",e),i()};g.addEventListener("click",v);const A="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='11'%20height='9'%3e%3cpath%20fill='none'%20stroke='%23FFF'%20stroke-width='2'%20d='M1%204.304L3.696%207l6-6'/%3e%3c/svg%3e",L="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVR4nO2azWoVQRCFPzXJxri4JvclTJ4g6k7dKIKo4ENI4o3vYNTXUBBfw5+dmwTjv6iL+ACKC+8iLQVnoBluJzPdM5mO9IHiDtXdTJ06Vd3NZaDg/8UC8Aj4CbhDbA/Y0prs8LABgbo9IEPsKbi1BnPPe8pkByfra/6RIWsiryPqvi97lULkZQYEnOxFF8oMTaIzFCIURSildRCalMiad2Kn+N3QzR6a29bvCpEGKIoQTkZMkpJRFCGcjJgkJaMoQjgZMUlKRlGEcDJikpSMogjhZMQkKRlFEcLJiElSMooihJPRJkkfgWfATWD+OCviPPsOXD0ORN4C94AV4LTMnifArjfP/vk/kSORv8Bd4NQBcdjYOjDVmse5ELnhkbjUIp7LIrMPXB+aiDXtDz2bEoaRymppRgxLGrM5hg2t/QzMDUnkjtcTVTlN5NsGlr21y/I5EUDBv5Pv9pBEnuvXsuxnfdsjM5b5vrPe/E35nwxJ5Kt+z9XeNa4FXifmY1Vjn4YkUtnijPeNgDfenHqpVTij8d9dErkAXGzhr8yCqWMM7Hhzdmao4RP51SWRWFvpoLQ+5EDEdqrYZr/fR7PH2m7C9vtevls5EHG6dhhGeg4diOvegTjxdqz5th8D9GVTXTua4krsFWXrCFSxwDYOuW7MSYlp7CcgCyLTtzJOPbOpHWlRtqrGrq4k+yJxkgxxDfjWgKj1RKtyGgJWOnYBfAp8Af7o1DYlbIu13WlmY/8D5Gui8nw0wicAAAAASUVORK5CYII=",f=()=>{const s=document.querySelector(".todo__footer--itemLeft-count"),e=a("tasks");s.innerText=e.filter(t=>t.isCompleted===!1).length},E=()=>document.querySelectorAll(".mark-circle");function y(){E().forEach((s,e)=>{s.addEventListener("click",()=>{let t=s.classList.toggle("Complete");const n=a("tasks");n.length&&(n[e].isCompleted=t),l("tasks",n),f()})})}const C=()=>document.querySelectorAll(".deleteIcon"),h=()=>{C().forEach((s,e)=>{let t=a("tasks");s.addEventListener("click",()=>{t.splice(e,1),l("tasks",t),i()})})},c=document.querySelector(".tasks__list");function i(){const s=a("tasks");let e="";s.forEach(t=>{e+=`
          <li class="tasks__list--task" draggable="true">
            <div class="task-content">
              <div class="mark-circle ${t.isCompleted?"Complete":!1}">
                <img class="icon-check" src="${A}" alt="check icon"/>
              </div>
              <p>${t.value}</p>
            </div>
            <img class="deleteIcon" src="${L}" alt="delete icon"/>
          </li>
`}),c.innerHTML=e,f(),h(),y()}i();const k=document.getElementById("todo-form"),u=document.getElementById("new-todo");k.addEventListener("click",()=>{u.focus()});const I=s=>{s.preventDefault();let e=a("tasks");const t={value:u.value,isCompleted:!1};e.push(t),l("tasks",e),i(),u.value=""};k.addEventListener("submit",I);const D=document.querySelector(".navbar__icon"),p=document.querySelector(".app"),S=()=>{const s=p.classList.toggle("is-dark");l("theme",s)};D.addEventListener("click",S);a("theme")===!0&&p.classList.add("is-dark");const T=document.querySelector(".filter-all"),O=document.querySelector(".filter-active"),M=document.querySelector(".filter-completed"),B=()=>document.querySelectorAll(".tasks__list--task"),m=s=>{const e=a("tasks");B().forEach((t,n)=>{var r;const o=(r=e[n])==null?void 0:r.isCompleted;switch(s){case"all":t.style.display="flex";break;case"active":t.style.display=o?"none":"flex";break;case"completed":t.style.display=o?"flex":"none";break}})};T.addEventListener("click",()=>m("all"));O.addEventListener("click",()=>m("active"));M.addEventListener("click",()=>m("completed"));document.addEventListener("DOMContentLoaded",()=>{let s=null;c.addEventListener("dragstart",e=>{e.target.classList.add("is-draging"),e.target&&e.target.nodeName==="LI"&&(s=e.target)}),c.addEventListener("dragover",e=>{e.preventDefault();const t=e.target.closest("li");t&&t!=s&&c.insertBefore(s,t)}),c.addEventListener("dragend",e=>{e.target.classList.remove("is-draging")}),c.addEventListener("drop",e=>{e.preventDefault();const t=Array.from(c.children).map(n=>({value:n.querySelector("p").textContent,isCompleted:n.querySelector(".mark-circle").classList.contains("Complete")}));l("tasks",t)})});
