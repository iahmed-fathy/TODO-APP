(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const o of c)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(c){const o={};return c.integrity&&(o.integrity=c.integrity),c.referrerPolicy&&(o.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?o.credentials="include":c.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(c){if(c.ep)return;c.ep=!0;const o=t(c);fetch(c.href,o)}})();function n(s){return JSON.parse(localStorage.getItem(s))||[]}function l(s,e){localStorage.setItem(s,JSON.stringify(e))}const g=document.getElementById("clear-Completed"),v=()=>{const e=n("tasks").filter(t=>!t.isCompleted);l("tasks",e),i()};g.addEventListener("click",v);const f=()=>{const s=document.querySelector(".todo__footer--itemLeft-count"),e=n("tasks");s.innerText=e.filter(t=>t.isCompleted===!1).length},y=()=>document.querySelectorAll(".mark-circle");function L(){y().forEach((s,e)=>{s.addEventListener("click",()=>{let t=s.classList.toggle("Complete");const r=n("tasks");r.length&&(r[e].isCompleted=t),l("tasks",r),f()})})}const h=()=>document.querySelectorAll(".deleteIcon"),E=()=>{h().forEach((s,e)=>{let t=n("tasks");s.addEventListener("click",()=>{t.splice(e,1),l("tasks",t),i()})})},a=document.querySelector(".tasks__list");function i(){const s=n("tasks");let e="";s.forEach(t=>{e+=`
          <li class="tasks__list--task" draggable="true">
            <div class="task-content">
              <div class="mark-circle ${t.isCompleted?"Complete":!1}">
                <img class="icon-check" src="../images/icon-check.svg" alt="check icon"/>
              </div>
              <p>${t.value}</p>
            </div>
            <img class="deleteIcon" src="../images/icons8-delete-48.png" alt="delete icon"/>
          </li>
`}),a.innerHTML=e,f(),E(),L()}i();const p=document.getElementById("todo-form"),u=document.getElementById("new-todo");p.addEventListener("click",()=>{u.focus()});const C=s=>{s.preventDefault();let e=n("tasks");const t={value:u.value,isCompleted:!1};e.push(t),l("tasks",e),i(),u.value=""};p.addEventListener("submit",C);const S=document.querySelector(".navbar__icon"),k=document.querySelector(".app"),q=()=>{const s=k.classList.toggle("is-dark");l("theme",s)};S.addEventListener("click",q);n("theme")===!0&&k.classList.add("is-dark");const I=document.querySelector(".filter-all"),b=document.querySelector(".filter-active"),O=document.querySelector(".filter-completed"),T=()=>document.querySelectorAll(".tasks__list--task"),m=s=>{const e=n("tasks");T().forEach((t,r)=>{var o;const c=(o=e[r])==null?void 0:o.isCompleted;switch(s){case"all":t.style.display="flex";break;case"active":t.style.display=c?"none":"flex";break;case"completed":t.style.display=c?"flex":"none";break}})};I.addEventListener("click",()=>m("all"));b.addEventListener("click",()=>m("active"));O.addEventListener("click",()=>m("completed"));document.addEventListener("DOMContentLoaded",()=>{let s=null;a.addEventListener("dragstart",e=>{e.target.classList.add("is-draging"),e.target&&e.target.nodeName==="LI"&&(s=e.target)}),a.addEventListener("dragover",e=>{e.preventDefault();const t=e.target.closest("li");t&&t!=s&&a.insertBefore(s,t)}),a.addEventListener("dragend",e=>{e.target.classList.remove("is-draging")}),a.addEventListener("drop",e=>{e.preventDefault();const t=Array.from(a.children).map(r=>({value:r.querySelector("p").textContent,isCompleted:r.querySelector(".mark-circle").classList.contains("Complete")}));l("tasks",t)})});
